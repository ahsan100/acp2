<template name="studyQuestion">
    <div class="container">
        <div class="row">
            <div class="col-sm-3">
                {{> SingleQuestionnaireNav}}
            </div>
            <div class="col-sm-9">
                    {{#autoForm collection="Studies" id="updateStudyId" type="update" doc=study}}

                        <h2>Question No: x</h2>

                        {{#afEachArrayItem name="questions"}}
                            {{> afQuickField name=this.current.question template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}

                            {{> afQuickField name=this.current.instructions template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}

                            {{> afQuickField name=this.current.timeout template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}

                            <!--
                  <label class="help">Question</label>{{> afFieldInput name=this.current.name}}
                  <label class="help">Question instruction</label>{{> afFieldInput name=this.current.instructions}}
                  <label class="help">Question timeout</label>{{> afFieldInput name=this.current.timeout}}
                   -->

                            {{> afQuickField name=this.current.type template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}

                            {{#if afFieldValueIs name=this.current.type value="Free Text"}}
                            	{{> afQuickField name=this.current.submit template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                            {{/if}}

                            {{#if afFieldValueIs name=this.current.type value="Numeric"}}
                            	{{> afQuickField name=this.current.submit template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                            {{/if}}

                            {{#if afFieldValueIs name=this.current.type value="Radio"}}
                            	{{> afQuickField name=this.current.submit template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                                {{#afEachArrayItem name=this.current.options}}
                                    {{> afQuickField name=this.current.option template="bootstrap3-horizontal" label-class="col-sm-2 col-sm-offset-3" input-col-class="col-sm-6"}}
                                    <button class="btn btn-primary autoform-remove-item" data-autoform-field="items">x</button>
                                {{/afEachArrayItem}}
                                <button class="btn btn-primary autoform-add-item col-sm-offset-5 col-sm-7" data-autoform-field="{{this.current.options}}">Add option</button>
                            {{/if}}

                            {{#if afFieldValueIs name=this.current.type value="Checkbox"}}
                            	{{> afQuickField name=this.current.submit template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                                {{#afEachArrayItem name=this.current.options}}
                                    {{> afQuickField name=this.current.option template="bootstrap3-horizontal" label-class="col-sm-2 col-sm-offset-3" input-col-class="col-sm-6"}}
                                    <button class="btn btn-primary autoform-remove-item" data-autoform-field="items">x</button>
                                {{/afEachArrayItem}}
                                <button class="btn btn-primary autoform-add-item col-sm-offset-5 col-sm-7" data-autoform-field="{{this.current.options}}">Add option</button>
                            {{/if}}

                          	{{#if afFieldValueIs name=this.current.type value="Quick Answer"}}
                                {{#afEachArrayItem name=this.current.options}}
                                    {{> afQuickField name=this.current.option template="bootstrap3-horizontal" label-class="col-sm-2 col-sm-offset-3" input-col-class="col-sm-6"}}
                                    <button class="btn btn-primary autoform-remove-item" data-autoform-field="items">x</button>
                                {{/afEachArrayItem}}
                                <button class="btn btn-primary autoform-add-item col-sm-offset-5 col-sm-7" data-autoform-field="{{this.current.options}}">Add option</button>
                            {{/if}}

                            {{#if afFieldValueIs name=this.current.type value="Scale"}}
                                {{> afQuickField name=this.current.minValue template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                                {{> afQuickField name=this.current.maxValue template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                                {{> afQuickField name=this.current.minLabel template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                                {{> afQuickField name=this.current.maxLabel template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                                {{> afQuickField name=this.current.stepSize template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                                {{> afQuickField name=this.current.submit template="bootstrap3-horizontal" label-class="col-sm-4 col-sm-offset-3" input-col-class="col-sm-5"}}
                            {{/if}}

                            <br/>
                            <button class="btn btn-primary btn-md autoform-remove-item" data-autoform-field="items">Remove question</button>
                            <br/>
                            <br/>

                        {{/afEachArrayItem}}

                        <button class="btn btn-primary btn-md autoform-add-item" data-autoform-field="questions">Add question</button>
                        <button class="btn btn-primary btn-md pull-right" type="submit" >Next</button>

                    {{/autoForm}}
            </div>
        </div>
    </div>
</template>
